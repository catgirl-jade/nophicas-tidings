(()=>{"use strict";var e,t,n,r,o={962:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(402),o=n.n(r),a=n(352),i=n.n(a)()(o());i.push([e.id,"/* Copyright 2023 catgirl-jade\n \n   This file is part of nophicas-tidings.\n \n   nophicas-tidings is free software: you can redistribute it and or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n \n   nophicas-tidings is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n \n   You should have received a copy of the GNU General Public License along with Foobar. If not, see <https:  www.gnu.org licenses >.\n*/\nspan.average-label {\n  font-weight: bold;\n}\ndiv.result-header {\n  background-color: #DDDDDD;\n}\ndiv.action-row {\n\n}\ndiv.action-row > div.action-quantity {\n  text-align: center;\n}\ndiv.action-row > div.action-icons {\n  text-align: left;\n}\ndiv.action-row > div.action-icons > img {\n  width: 32px;\n  height: 32px;\n}\ndiv.action-row > div.action-name {\n  text-align: left;\n}\n",""]);const c=i},352:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},402:e=>{e.exports=function(e){return e[1]}},934:(e,t,n)=>{n.a(e,(async(r,o)=>{try{n.d(t,{BF:()=>B,GW:()=>I,KM:()=>$,Or:()=>U,S1:()=>S,WA:()=>k,Wl:()=>O,a2:()=>M,fY:()=>N,h4:()=>L,iX:()=>P,m_:()=>j,pT:()=>T,uB:()=>C,ug:()=>A});var a=n(530);e=n.hmd(e);var i=r([a]);a=(i.then?(await i)():i)[0];const c=new Array(32).fill(void 0);function s(e){return c[e]}c.push(void 0,null,!0,!1);let l=c.length;function u(e){e<36||(c[e]=l,l=e)}function d(e){const t=s(e);return u(e),t}function f(e){l===c.length&&c.push(c.length+1);const t=l;return l=c[t],c[t]=e,t}let p=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();let m=new Uint8Array;function h(){return 0===m.byteLength&&(m=new Uint8Array(a.memory.buffer)),m}function y(e,t){return p.decode(h().subarray(e,e+t))}function b(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=b(e[0]));for(let r=1;r<t;r++)n+=", "+b(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}let g=0,_=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const w="function"==typeof _.encodeInto?function(e,t){return _.encodeInto(e,t)}:function(e,t){const n=_.encode(e);return t.set(n),{read:e.length,written:n.length}};function v(e,t,n){if(void 0===n){const n=_.encode(e),r=t(n.length);return h().subarray(r,r+n.length).set(n),g=n.length,r}let r=e.length,o=t(r);const a=h();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;a[o+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),o=n(o,r,r=i+3*e.length);const t=h().subarray(o+i,o+r);i+=w(e,t).written}return g=i,o}let x=new Int32Array;function E(){return 0===x.byteLength&&(x=new Int32Array(a.memory.buffer)),x}function S(){a.init()}function I(e,t,n,r,o,i,c){return d(a.generate_rotation(e,t,n,r,o,i,c))}function A(e){d(e)}function T(e){return f(e)}function j(e){return f(s(e))}function L(e,t){return f(y(e,t))}function O(e,t,n){s(e)[d(t)]=d(n)}function B(){return f(new Array)}function C(){return f(new Object)}function k(e,t,n){s(e)[t>>>0]=d(n)}function M(){return f(new Error)}function $(e,t){const n=v(s(t).stack,a.__wbindgen_malloc,a.__wbindgen_realloc),r=g;E()[e/4+1]=r,E()[e/4+0]=n}function P(e,t){try{console.error(y(e,t))}finally{a.__wbindgen_free(e,t)}}function N(e,t){const n=v(b(s(t)),a.__wbindgen_malloc,a.__wbindgen_realloc),r=g;E()[e/4+1]=r,E()[e/4+0]=n}function U(e,t){throw new Error(y(e,t))}o()}catch(R){o(R)}}))},575:(e,t,n)=>{var r=n(379),o=n.n(r),a=n(795),i=n.n(a),c=n(569),s=n.n(c),l=n(565),u=n.n(l),d=n(216),f=n.n(d),p=n(589),m=n.n(p),h=n(962),y={};y.styleTagTransform=m(),y.setAttributes=u(),y.insert=s().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=f(),o()(h.Z,y),h.Z&&h.Z.locals&&h.Z.locals},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var f=n(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var m=o(p,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},729:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(934),o=(n(575),e([r]));r=(o.then?(await o)():o)[0];const a="https://xivapi.com",i=document.getElementById("parameters"),c=document.getElementById("player_level"),s=document.getElementById("player_gp"),l=document.getElementById("node_durability"),u=document.getElementById("item_success_chance"),d=document.getElementById("item_gather_amount"),f=document.getElementById("item_boon_chance"),p=document.getElementById("item_bountiful_bonus"),m=document.getElementById("submit"),h=document.getElementById("calc_message"),y=document.getElementById("result_rotation"),b=y.querySelector("#result_items_outer"),g=b.querySelector("#result_items"),_=window.Worker?new Worker(new URL(n.p+n.u(579),n.b)):(r.S1(),null);function w(e,t){return`icon/${e}/${t}`}async function v(e,t){let n=new Array;for(let r of t){let t=w(e,r);localStorage.getItem(t)||n.push(r)}let r=n.map((e=>e.toString())).join(",");if(n.length>0){let t=await fetch(`${a}/${e}?`+new URLSearchParams({ids:r})),n=await t.json();for(let t of n.Results){let n=w(e,t.ID);localStorage.setItem(n,t.Icon)}}}async function x(e,t,n,o,a,i,c){return r.GW(e,t,n,o,a,i,c)}async function E(e){console.log(e),h.style.display="none",b.style.display="inline",g.innerText=e.items;let t=new Map,n=new Map;function r(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,new Array(n))}function o(e,o,a){"action"==e?r(t,o,a):"item"==e&&r(n,o,a)}function i(e,t){for(let[n,r]of e){let e=w(t,n),o=localStorage.getItem(e);if(o){let e=`${a}${o}`;for(let t of r)t.src=e}}}for(let t of e.actions){console.log(t);const e=document.createElement("div");e.classList.add("row"),e.classList.add("action-row");const n=document.createElement("div");n.classList.add("col-sm-1"),n.classList.add("action-quantity"),t.action.hasOwnProperty("amount")&&(n.innerText=`${t.action.amount}`),e.appendChild(n);const r=document.createElement("div");r.classList.add("col-sm-auto"),r.classList.add("action-icons");const a=document.createElement("img");r.appendChild(a);const i=document.createElement("img");r.appendChild(i),e.appendChild(r);const c=document.createElement("div");c.classList.add("col"),c.classList.add("action_name"),c.innerText=t.action.name,e.appendChild(c),y.appendChild(e);let s=t.action.id_min,l=t.action.id_btn;o(s.type,s.id,a),o(l.type,l.id,i)}v("item",n.keys()),v("action",t.keys()),i(n,"item"),i(t,"action"),S(!1)}function S(e){m.disabled=e,c.disabled=e,s.disabled=e,l.disabled=e,u.disabled=e,d.disabled=e,f.disabled=e,p.disabled=e}async function I(){S(!0);let e=parseInt(c.value),t=parseInt(s.value),n=parseInt(l.value),r=parseInt(u.value),o=parseInt(d.value),a=parseInt(f.value),i=parseInt(p.value);if(b.style.display="none",y.querySelectorAll("div.action-row").forEach((e=>{e.parentNode.removeChild(e)})),h.style.display="inline",_){let c={player_level:e,player_gp:t,node_durability:n,item_success_chance:r,item_gather_amount:o,item_boon_chance:a,item_bountiful_bonus:i};_.onmessage=async e=>{let t=e.data;console.debug("Got response from worker"),await E(t)},await _.postMessage(c)}else E(await x(e,t,n,r,o,a,i))}i.onsubmit=async function(e){return console.log("called"),e.preventDefault(),await I(),!1},t()}catch(A){t(A)}}))},530:(e,t,n)=>{n.a(e,(async(r,o)=>{try{var a,i=r([a=n(934)]),[a]=i.then?(await i)():i;await n.v(t,e.id,"970c55e4c97177635a70",{"./index_bg.js":{__wbindgen_object_drop_ref:a.ug,__wbindgen_number_new:a.pT,__wbindgen_object_clone_ref:a.m_,__wbindgen_string_new:a.h4,__wbg_set_20cbc34131e76824:a.Wl,__wbg_new_1d9a920c6bfc44a8:a.BF,__wbg_new_0b9bfdd97583284e:a.uB,__wbg_set_a68214f35c417fa9:a.WA,__wbg_new_abda76e883ba8a5f:a.a2,__wbg_stack_658279fe44541cf6:a.KM,__wbg_error_f851667af71bcfc6:a.iX,__wbindgen_debug_string:a.fY,__wbindgen_throw:a.Or}}),o()}catch(e){o(e)}}),1)}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return o[e](n,n.exports,i),n.loaded=!0,n.exports}i.m=o,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(o,a,i)=>{var c;i&&((c=[]).d=1);var s,l,u,d=new Set,f=o.exports,p=new Promise(((e,t)=>{u=t,l=e}));p[t]=f,p[e]=e=>(c&&e(c),d.forEach(e),p.catch((e=>{}))),o.exports=p,a((o=>{var a;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var a=[];a.d=0,o.then((e=>{i[t]=e,r(a)}),(e=>{i[n]=e,r(a)}));var i={};return i[e]=e=>e(a),i}}var c={};return c[e]=e=>{},c[t]=o,c})))(o);var i=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(a=()=>t(i)).r=0;var n=e=>e!==c&&!d.has(e)&&(d.add(e),e&&!e.d&&(a.r++,e.push(a)));s.map((t=>t[e](n)))}));return a.r?l:i()}),(e=>(e?u(p[n]=e):l(f),r(c)))),c&&(c.d=0)},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.u=e=>e+".index.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.v=(e,t,n,r)=>{var o=fetch(i.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.b=document.baseURI||self.location.href,i.nc=void 0,i(729)})();