(()=>{"use strict";var e,t,n,r,a={962:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,"/* Copyright 2023 catgirl-jade\n \n   This file is part of nophicas-tidings.\n \n   nophicas-tidings is free software: you can redistribute it and or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n \n   nophicas-tidings is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n \n   You should have received a copy of the GNU General Public License along with Foobar. If not, see <https:  www.gnu.org licenses >.\n*/\nlabel.validated {\n  background-color: #00BB00;\n}\nlabel.unvalidated {\n  background-color: #BB0000;\n}\nspan.average-label {\n  font-weight: bold;\n}\ndiv.result-header {\n  background-color: #DDDDDD;\n}\ndiv.action-row {\n\n}\ndiv.action-row > div.action-quantity {\n  text-align: center;\n}\ndiv.action-row > div.action-icons {\n  text-align: left;\n}\ndiv.action-row > div.action-icons > img {\n  width: 32px;\n  height: 32px;\n}\ndiv.action-row > div.action-name {\n  text-align: left;\n}\n",""]);const c=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},575:(e,t,n)=>{var r=n(379),a=n.n(r),o=n(795),i=n.n(o),c=n(569),s=n.n(c),l=n(565),u=n.n(l),d=n(216),f=n.n(d),p=n(589),m=n.n(p),_=n(962),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=f(),a()(_.Z,g),_.Z&&_.Z.locals&&_.Z.locals},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var f=n(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var m=a(p,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=n(o[i]);t[c].references--}for(var s=r(e,a),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},729:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(978),a=n(838),o=(n(575),e([a]));a=(o.then?(await o)():o)[0];const i=document.getElementById("parameters"),c=document.getElementById("player_level"),s=document.getElementById("player_gp"),l=document.getElementById("player_gathering"),u=document.getElementById("player_perception"),d=document.getElementById("node_durability"),f=document.getElementById("item_level"),p=document.getElementById("item_gathering"),m=document.getElementById("item_gathering_value"),_=document.getElementById("item_perception"),g=document.getElementById("item_perception_value"),h=(document.getElementById("label_success_chance"),document.getElementById("item_success_chance")),b=document.getElementById("item_gather_amount"),y=document.getElementById("label_boon_chance"),v=document.getElementById("item_boon_chance"),w=document.getElementById("label_bountiful_bonus"),I=document.getElementById("item_bountiful_bonus"),E=document.getElementById("submit"),x=document.getElementById("calc_message"),S=document.getElementById("result_rotation"),T=S.querySelector("#result_items_outer"),B=T.querySelector("#result_items"),L=window.Worker?new Worker(new URL(n.p+n.u(579),n.b)):null;function A(e,t){let n=localStorage.getItem(t);n&&(e.value=n),e.addEventListener("change",(n=>{localStorage.setItem(t,e.value)}))}async function k(e,t,n,r,o,i,c){return a.GW(e,t,n,r,o,i,c)}async function j(e){x.style.display="none",T.style.display="inline",B.innerText=e.items;let t=new Map,n=new Map;function a(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,new Array(n))}function o(e,r,o){"action"==e?a(t,r,o):"item"==e&&a(n,r,o)}function i(e,t){for(let[n,a]of e){let e=(0,r.Dr)(t,n);if(e)for(let t of a)t.src=e}}for(let t of e.actions){const e=document.createElement("div");e.classList.add("row"),e.classList.add("action-row");const n=document.createElement("div");n.classList.add("col-sm-1"),n.classList.add("align-items-center"),n.classList.add("action-quantity"),t.action.hasOwnProperty("amount")&&(n.innerText=`${t.action.amount}`),e.appendChild(n);const r=document.createElement("div");r.classList.add("col-sm-auto"),r.classList.add("action-icons");const a=document.createElement("img");r.appendChild(a);const i=document.createElement("img");r.appendChild(i),e.appendChild(r);const c=document.createElement("div");c.classList.add("col"),c.classList.add("action_name"),c.innerText=t.action.name,e.appendChild(c),S.appendChild(e);let s=t.action.id_min,l=t.action.id_btn;o(s.type,s.id,a),o(l.type,l.id,i)}(0,r.F9)("item",n.keys()),(0,r.F9)("action",t.keys()),i(n,"item"),i(t,"action"),C(!1)}function C(e){E.disabled=e,c.disabled=e,s.disabled=e,l.disabled=e,u.disabled=e,d.disabled=e,f.disabled=e,h.disabled=e,b.disabled=e,v.disabled=e,I.disabled=e}async function M(){C(!0);let e=parseInt(c.value),t=parseInt(s.value),n=parseInt(d.value),r=parseInt(h.value),a=parseInt(b.value),o=parseInt(v.value),i=parseInt(I.value);if(T.style.display="none",S.querySelectorAll("div.action-row").forEach((e=>{e.parentNode.removeChild(e)})),x.style.display="inline",L){let c={player_level:e,player_gp:t,node_durability:n,item_success_chance:r,item_gather_amount:a,item_boon_chance:o,item_bountiful_bonus:i};L.onmessage=async e=>{let t=e.data;console.debug("Got response from worker"),await j(t)},await L.postMessage(c)}else j(await k(e,t,n,r,a,o,i))}async function P(e){let t=parseInt(f.value);$(p,!1),$(_,!1),m.innerText="...",g.innerText="...";let n=await(0,r.S1)(t);return m.innerText=n.gathering.toString(),g.innerText=n.perception.toString(),$(p,!0),$(_,!0),O(),N(),!1}function O(e){let t=parseInt(l.value),n=parseInt(m.innerText),r=(a.Su(t,n),a.Np(t,n));I.value=r.toString(),$(w,!0)}function N(e){let t=parseInt(u.value),n=parseInt(g.innerText),r=a.L2(t,n);v.value=r.toString(),$(y,!0)}function $(e,t){t?(e.classList.add("validated"),e.classList.remove("unvalidated")):(e.classList.add("unvalidated"),e.classList.remove("validated"))}function D(e){return function(t){$(e,!1)}}A(c,"level"),A(s,"gp"),A(l,"gathering"),A(u,"perception"),i.onsubmit=async function(e){return e.preventDefault(),await M(),!1},f.onchange=P,await P(),l.addEventListener("change",O),O(),u.addEventListener("change",N),N(),v.onchange=D(y),I.onchange=D(w),t()}catch(U){t(U)}}),1)},978:(e,t,n)=>{n.d(t,{Dr:()=>i,F9:()=>o,S1:()=>c});const r="https://xivapi.com";function a(e,t){return`icon/${e}/${t}`}async function o(e,t){let n=new Array;for(let r of t){let t=a(e,r);localStorage.getItem(t)||n.push(r)}let o=n.map((e=>e.toString())).join(",");if(n.length>0){let t=await fetch(`${r}/${e}?`+new URLSearchParams({ids:o})),n=await t.json();for(let t of n.Results){let n=a(e,t.ID);localStorage.setItem(n,t.Icon)}}}function i(e,t){let n=a(e,t);if(n){let e=localStorage.getItem(n);if(e)return`${r}${e}`}return null}async function c(e){let t=`ilvl/${e}`,n=localStorage.getItem(t),a=null,o=null;if(n){let e=n.split("/");a=parseInt(e[0]),o=parseInt(e[1])}else{let n=await fetch(`${r}/ItemLevel/${e}`),i=await n.json();a=i.Gathering,o=i.Perception;let c=`${a}/${o}`;localStorage.setItem(t,c)}return{gathering:a,perception:o}}},838:(e,t,n)=>{n.a(e,(async(r,a)=>{try{n.d(t,{BF:()=>M,G3:()=>N,GW:()=>y,KM:()=>R,L2:()=>v,Np:()=>I,Or:()=>G,Su:()=>w,V7:()=>$,WA:()=>O,Wl:()=>C,Y2:()=>U,a2:()=>F,h4:()=>k,iX:()=>W,lX:()=>D,m_:()=>j,pT:()=>A,uB:()=>P,ug:()=>L});var o=n(530);e=n.hmd(e);var i=r([o]);o=(i.then?(await i)():i)[0];const c=new Array(32).fill(void 0);function s(e){return c[e]}c.push(void 0,null,!0,!1);let l=c.length;function u(e){e<36||(c[e]=l,l=e)}function d(e){const t=s(e);return u(e),t}function f(e){l===c.length&&c.push(c.length+1);const t=l;return l=c[t],c[t]=e,t}let p=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();let m=new Uint8Array;function _(){return 0===m.byteLength&&(m=new Uint8Array(o.memory.buffer)),m}function g(e,t){return p.decode(_().subarray(e,e+t))}let h=new Int32Array;function b(){return 0===h.byteLength&&(h=new Int32Array(o.memory.buffer)),h}function y(e,t,n,r,a,i,c){try{const u=o.__wbindgen_add_to_stack_pointer(-16);o.generate_rotation(u,e,t,n,r,a,i,c);var s=b()[u/4+0],l=b()[u/4+1];if(b()[u/4+2])throw d(l);return d(s)}finally{o.__wbindgen_add_to_stack_pointer(16)}}function v(e,t){return o.boon_chance(e,t)>>>0}function w(e,t){return o.success_chance(e,t)>>>0}function I(e,t){return o.bountiful_amount(e,t)>>>0}function E(e,t){try{return e.apply(this,t)}catch(e){o.__wbindgen_exn_store(f(e))}}let x=0,S=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const T="function"==typeof S.encodeInto?function(e,t){return S.encodeInto(e,t)}:function(e,t){const n=S.encode(e);return t.set(n),{read:e.length,written:n.length}};function B(e,t,n){if(void 0===n){const n=S.encode(e),r=t(n.length);return _().subarray(r,r+n.length).set(n),x=n.length,r}let r=e.length,a=t(r);const o=_();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length);const t=_().subarray(a+i,a+r);i+=T(e,t).written}return x=i,a}function L(e){d(e)}function A(e){return f(e)}function k(e,t){return f(g(e,t))}function j(e){return f(s(e))}function C(e,t,n){s(e)[d(t)]=d(n)}function M(){return f(new Array)}function P(){return f(new Object)}function O(e,t,n){s(e)[t>>>0]=d(n)}function N(e,t){try{console.log(g(e,t))}finally{o.__wbindgen_free(e,t)}}function $(e,t,n,r,a,i,c,s){try{console.log(g(e,t),g(n,r),g(a,i),g(c,s))}finally{o.__wbindgen_free(e,t)}}function D(e,t){performance.mark(g(e,t))}function U(){return E((function(e,t,n,r){try{performance.measure(g(e,t),g(n,r))}finally{o.__wbindgen_free(e,t),o.__wbindgen_free(n,r)}}),arguments)}function F(){return f(new Error)}function R(e,t){const n=B(s(t).stack,o.__wbindgen_malloc,o.__wbindgen_realloc),r=x;b()[e/4+1]=r,b()[e/4+0]=n}function W(e,t){try{console.error(g(e,t))}finally{o.__wbindgen_free(e,t)}}function G(e,t){throw new Error(g(e,t))}a()}catch(q){a(q)}}))},530:(e,t,n)=>{n.a(e,(async(r,a)=>{try{var o,i=r([o=n(838)]),[o]=i.then?(await i)():i;await n.v(t,e.id,"c64359a523bc6e53c512",{"./index_bg.js":{__wbindgen_object_drop_ref:o.ug,__wbindgen_number_new:o.pT,__wbindgen_string_new:o.h4,__wbindgen_object_clone_ref:o.m_,__wbg_set_20cbc34131e76824:o.Wl,__wbg_new_1d9a920c6bfc44a8:o.BF,__wbg_new_0b9bfdd97583284e:o.uB,__wbg_set_a68214f35c417fa9:o.WA,__wbg_log_c9486ca5d8e2cbe8:o.G3,__wbg_log_aba5996d9bde071f:o.V7,__wbg_mark_40e050a77cc39fea:o.lX,__wbg_measure_aa7a73f17813f708:o.Y2,__wbg_new_abda76e883ba8a5f:o.a2,__wbg_stack_658279fe44541cf6:o.KM,__wbg_error_f851667af71bcfc6:o.iX,__wbindgen_throw:o.Or}}),a()}catch(e){a(e)}}),1)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return a[e](n,n.exports,i),n.loaded=!0,n.exports}i.m=a,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(a,o,i)=>{var c;i&&((c=[]).d=1);var s,l,u,d=new Set,f=a.exports,p=new Promise(((e,t)=>{u=t,l=e}));p[t]=f,p[e]=e=>(c&&e(c),d.forEach(e),p.catch((e=>{}))),a.exports=p,o((a=>{var o;s=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then((e=>{i[t]=e,r(o)}),(e=>{i[n]=e,r(o)}));var i={};return i[e]=e=>e(o),i}}var c={};return c[e]=e=>{},c[t]=a,c})))(a);var i=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(o=()=>t(i)).r=0;var n=e=>e!==c&&!d.has(e)&&(d.add(e),e&&!e.d&&(o.r++,e.push(o)));s.map((t=>t[e](n)))}));return o.r?l:i()}),(e=>(e?u(p[n]=e):l(f),r(c)))),c&&(c.d=0)},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.u=e=>e+".index.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.v=(e,t,n,r)=>{var a=fetch(i.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,r).then((t=>Object.assign(e,t.instance.exports))):a.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.b=document.baseURI||self.location.href,i.nc=void 0,i(729)})();